<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Image Upload</title>
</head>
<body><h2>Upload Image to Firebase</h2>
<form id="uploadForm">
    <input type="file" id="fileInput" required />
    <button type="submit">Upload</button>
</form>
<img id="uploadedImage" src="" alt="Uploaded Image" style="display:none; width:200px; height:auto;">

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
    import { getStorage, ref, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-storage.js";

    // **ðŸ”¥ à¤¤à¥à¤à¥à¤¯à¤¾ Firebase Project à¤šà¥€ Configuration (à¤¯à¤¾à¤¤ à¤¤à¥à¤à¥‡ details à¤Ÿà¤¾à¤•)**
    const firebaseConfig = {
        apiKey: "à¤¤à¥à¤à¤‚_API_KEY",
        authDomain: "à¤¤à¥à¤à¤‚_PROJECT_ID.firebaseapp.com",
        projectId: "à¤¤à¥à¤à¤‚_PROJECT_ID",
        storageBucket: "à¤¤à¥à¤à¤‚_PROJECT_ID.appspot.com",
        messagingSenderId: "à¤¤à¥à¤à¤‚_SENDER_ID",
        appId: "à¤¤à¥à¤à¤‚_APP_ID"
    };

    // **ðŸ”¥ Firebase Initialize**
    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);

    document.getElementById("uploadForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const file = document.getElementById("fileInput").files[0];

        if (!file) {
            alert("à¤•à¥ƒà¤ªà¤¯à¤¾ à¤«à¥‹à¤Ÿà¥‹ à¤¨à¤¿à¤µà¤¡à¤¾!");
            return;
        }

        // **ðŸ”¥ Firebase Storage à¤®à¤§à¥à¤¯à¥‡ à¤«à¥‹à¤Ÿà¥‹ Upload à¤•à¤°à¤£à¥‡**
        const storageRef = ref(storage, `images/${file.name}`);
        const uploadTask = uploadBytesResumable(storageRef, file);

        uploadTask.on("state_changed",
            (snapshot) => {
                console.log("Uploading...");
            },
            (error) => {
                console.error("Upload Error:", error);
            },
            async () => {
                const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);
                console.log("âœ… Image Uploaded Successfully!");
                console.log("ðŸ“· Image URL:", downloadURL);
                alert("Image Uploaded Successfully!");
            }
        );
    });
    uploadTask.on("state_changed",
    (snapshot) => {
        console.log("Uploading...");
    },
    (error) => {
        console.error("Upload Error:", error);
    },
    async () => {
        const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);
        console.log("ðŸ“· Image URL:", downloadURL);

        // âœ… à¤«à¥‹à¤Ÿà¥‹ à¤ªà¥‡à¤œà¤µà¤° à¤¦à¤¾à¤–à¤µà¤¾à¤¯à¤šà¤¾
        document.getElementById("uploadedImage").src = downloadURL;
        document.getElementById("uploadedImage").style.display = "block";
    }
);
</script>

</body>
</html>